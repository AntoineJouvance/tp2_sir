/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
create table ElectronicDevice (id bigint generated by default as identity (start with 1), meanConso double, home_id bigint, primary key (id))
create table Heater (id integer generated by default as identity (start with 1), meanConso double not null, home_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), numberOfRoom integer not null, size integer not null, owner_id bigint, primary key (id))
create table Home_ElectronicDevice (Home_id bigint not null, electronicDeviceList_id bigint not null)
create table Home_Heater (Home_id bigint not null, heaterList_id integer not null)
create table Person (id bigint generated by default as identity (start with 1), firstName varchar(255), lastName varchar(255), mail varchar(255), primary key (id))
create table Person_Person (Person_id bigint not null, friends_id bigint not null)
alter table Home_ElectronicDevice add constraint UK_en1igrqxvt4gge6jc3whlniny  unique (electronicDeviceList_id)
alter table Home_Heater add constraint UK_i5acxdg4gxltjsx45k2iiibdr  unique (heaterList_id)
alter table Person_Person add constraint UK_aff7mee65knn9wsxb8hxvpsuh  unique (friends_id)
alter table ElectronicDevice add constraint FK_atj6n9907iu47cfbvfc5rlk76 foreign key (home_id) references Home
alter table Heater add constraint FK_g9g3p4lgtsdn0y4s449f351xk foreign key (home_id) references Home
alter table Home add constraint FK_rtkxkw0exfic29723r5x028kv foreign key (owner_id) references Person
alter table Home_ElectronicDevice add constraint FK_en1igrqxvt4gge6jc3whlniny foreign key (electronicDeviceList_id) references ElectronicDevice
alter table Home_ElectronicDevice add constraint FK_lx5v31bkx5mpbbce2yghu5ity foreign key (Home_id) references Home
alter table Home_Heater add constraint FK_i5acxdg4gxltjsx45k2iiibdr foreign key (heaterList_id) references Heater
alter table Home_Heater add constraint FK_jqyj2si6jk7rdcnwc7lh2kkp foreign key (Home_id) references Home
alter table Person_Person add constraint FK_aff7mee65knn9wsxb8hxvpsuh foreign key (friends_id) references Person
alter table Person_Person add constraint FK_inq4xm3i524cmia3rp65fx39w foreign key (Person_id) references Person
INSERT INTO PERSON VALUES(1,NULL,'Jack',NULL)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
